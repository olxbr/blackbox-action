name: Black Box Action
description: Action to retrieve metadata information from repository.
inputs:
  config:
    description: Action configuration in JSON format.
    required: true
runs:
  using: 'composite'
  steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-python@v3
      with:
        python-version: '3.9.12'
        cache: 'pip'
    - run: pip install -r ${{ github.action_path }}/src/requirements.txt
      shell: bash
    - run: echo ${{ github.action_path }} >> action_path.txt
      shell: bash
    - uses: mxschmitt/action-tmate@v3
    - run: python ${{ github.action_path }}/src/entrypoint.py -c '${{ inputs.config }}'
      shell: bash
    - uses: mxschmitt/action-tmate@v3
